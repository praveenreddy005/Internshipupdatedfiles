{% load static %}


<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Updated Sidebar Navigation</title>

    <style>

        * {

            margin: 0;

            padding: 0;

            box-sizing: border-box;

        }

 

        body {

            margin: 0;

            padding: 0;

            font-family: Arial, sans-serif;

            overflow-x: hidden;

        }

 

        /* Keep original pre-login header exactly as it was */

        .pre-login-header {

            display: flex;

            justify-content: space-between;

            align-items: center;

            padding: 30px 150px;

            border-bottom: 3px solid #D90505;

            background-color: white;

            width: 100%;

        }

 

        .pre-login-header .logo {

            display: flex;

            align-items: center;

        }

 

        .pre-login-header .logo img {

            height: 40px;

            width: 200px;

        }

 

        .pre-login-header .nav-links {

            display: flex;

            gap: 2rem;

            align-items: center;

        }

 

        .pre-login-header .nav-links a {

            text-decoration: none;

            color: black;

        }

 

        .pre-login-header .nav-links a:hover {

            color: #D90505;

        }

 

        body.logged-in .pre-login-header {

            display: none;

        }

 

        /* Post-login header */

        .post-login-header {

            display: flex;

            justify-content: space-between;

            align-items: center;

            width: 100%;

            padding: 10px 20px;

            background-color: white;

            border-bottom: 1px solid #eee;

            position: fixed;

            top: 0;

            left: 0;

            right: 0;

            height: 70px;

            box-shadow: 0px 2px 4px rgba(0,0,0,0.1);

            transition: margin-left 0.3s ease;

            z-index: 99;

        }

 

        body.logged-in .sidebar.active ~ .main-content .post-login-header {

            margin-left: 220px;

            width: calc(100% - 220px);

        }

 

        .logo-search-container {

            display: flex;

            align-items: center;

            gap: 20px;

            margin-left: 0px;

            width:100%;

            justify-content: center;

        }

        .post-login-header .search-container {
    position: fixed;
    top: 5%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 101;
}

 
        .post-login-header .logo-search-container {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 101;
    width: auto;
    display: flex;
    justify-content: center;
    align-items: center;
}


 

        .post-login-header .logo-wrapper {

            margin-left: auto;

            position: fixed;

            top: 2%;  /* Adjust the distance from the top */

            left: 90%;
            right:20px;

            transform: translateX(-50%);

            z-index: 101;

 

        }

        .post-login-header .logo img {

            height: 40px;

            width: auto;

        }

 

        /* Updated sidebar navigation */

        .sidebar {

            position: fixed;

            top: 0;

            left: 0;

            width: 220px;

            height: 100%;

            background-color: #333;

            color: white;

            padding-top: 20px;

            transition: transform 0.3s ease;

            transform: translateX(-220px);

            z-index: 1000;

            display: flex;

            flex-direction: column;

            justify-content: space-between;

        }

 

        body.logged-in .sidebar.active {

            transform: translateX(0);

        }

 

        /* Updated vertical navigation links */

        .sidebar .nav-links {

            display: flex;

            flex-direction: column;

            padding: 40px;

            margin: 0;

            width: 100%;

        }

 

        .sidebar .nav-links a {

            text-decoration: none;

            color: white;

            padding: 15px 20px;

            display: block;

            width: 100%;

            border-bottom: 1px solid #444;

        }

 

        .sidebar .nav-links a:hover {

            background-color: #555;

        }

 

        .process-toggle {

            width: 100%;

            text-align: left;

            padding: 15px 20px;

            color: white;

            background: none;

            border: none;

            border-bottom: 1px solid #444;

            cursor: pointer;

            display: flex;

            justify-content: space-between;

            align-items: center;

        }

 

        .process-menu {

            display: none;

            background-color: #444;

        }

 

        .process-menu.active {

            display: block;

        }

 

        .process-menu a {

            padding: 15px 30px !important;

            background-color: #444;

            border-bottom: 1px solid #555;

        }

 

        .menu-btn {

            display: none;

            position: fixed;

            top: 15px;

            left: 10px;

            background-color: #333;

            color: white;

            border: none;

            padding: 10px;

            cursor: pointer;

            font-size: 16px;

            border-radius: 4px;

            z-index: 1001;

        }

 

        body.logged-in .menu-btn {

            display: block;

        }

 

        /* Main content */

        .main-content {

            padding: 20px;

            margin-top: -80px;

            transition: margin-left 0.3s ease;

            width: 100%;

        }

 

        body.logged-in .main-content.shifted {

            margin-left: 220px;

            width: calc(100% - 220px);

        }

 

        .search-container {

            display: flex;

            align-items: center;

            border: 2px solid black;

            border-radius: 4px;

            padding: 0.25rem 0.5rem;

            width: 300px;

            background-color: white;

        }

 

        .search-container input {

            border: none;

            outline: none;

            padding-right: 0.5rem;

            flex-grow: 1;
        }

 

        .sign-in,

        .sign-out {

            background-color: #D90505;

            color: white;

            border: none;

            padding: 5px;

            font-size: 16px;

            cursor: pointer;

            border-radius: 4px;

            height: 35px;

            width: 100px;

            margin: 20px;

            text-align: center;

            text-decoration: none;

            display: inline-block;

        }

 

        .sign-out {

            margin: 20px auto;

        }

 

        .sign-in:hover,

        .sign-out:hover {

            background-color: #3a3737;

        }

 

        @media (max-width: 768px) {

            .pre-login-header {

                padding: 20px;

                flex-direction: column;

                gap: 1rem;

            }

 

            .pre-login-header .nav-links {

                flex-direction: column;

                gap: 1rem;

            }

 

            .search-container {

                width: 100%;

                max-width: 300px;

            }

 

            body.logged-in .sidebar.active ~ .main-content .post-login-header {

                margin-left: 0;

                width: 100%;

            }

 

            .main-content.shifted {

                margin-left: 0;

                width: 100%;

            }

 

            .logo-search-container {

                margin-left: 60px;

            }

        }

 

        @media (max-width: 768px) {

    .post-login-header {

        padding: 10px;

    }

   

    .logo-search-container {

        justify-content: flex-end;

    }

   

    .search-container {

        max-width: 200px;  /* Smaller search box on mobile */

    }

}

 

    </style>

</head>

 

<body class="{% if user.is_authenticated %}logged-in{% endif %}">

    <!-- Pre-login header remains unchanged -->

    <header class="pre-login-header">

        <div class="logo">

            <img src="{% static 'assets/img/logo.png' %}" height="40px" width="200px" alt="Logo">

        </div>

        <div class="nav-links">

            <a href="/">Home</a>

            <a href="/about" class="about">About</a>

            <form method="GET" action="/projects" class="search-container">

                <input type="text" name="search" placeholder="Search Project / Research">

                <button type="submit" style="background: none; border: none; padding: 0; cursor: pointer;">üîç</button>

            </form>

            <a href="{% url 'signinOTP' %}"><button class="sign-in">Sign In</button></a>

        </div>

    </header>

 

    {% if user.is_authenticated %}

    <button class="menu-btn" id="menu-btn" onclick="toggleSidebar()">‚ò∞ Menu</button>

   

    <aside class="sidebar" id="sidebar">

        <nav>

            <div class="nav-links">

                <a href="/">Home</a>

                <a href="/about">About</a>

                <button class="process-toggle" onclick="toggleProcessMenu()">

                    Process

                    <span class="arrow">‚ñ∂</span>

                </button>

                <div class="process-menu" id="processMenu">

                    {% if userprofile.role_id == 8 %}

                    <a href="/hr_offer_letter">PSC HR Approval</a>

                    {% elif userprofile.role_id == 7 %}

                    <a href="/hr_psc">Associate HR Approval</a>

                    {% elif userprofile.role_id == 4 %}

                    <a href="/admin_dash">Admin Dashboard</a>

                    <a href="/super_admin_dash">Users</a>

                    <a href="/project">Project</a>

                    <a href="/business-units">Business Unit</a>

                    <a href="/technology">Technology</a>

                    <a href="/regions">Regions</a>

                    <a href="/interview_evaluation">Interview Evaluation</a>

                    {% elif userprofile.role_id == 10 %}

                    <a href="/interview_evaluation">Interview Evaluation</a>

                    {% elif userprofile.role_id == 3 %}

                    <a href="/super_admin_dash">Superadmin Dashboard</a>

                    <a href="/project">Project</a>

                    <a href="/business-units">Business Unit</a>

                    <a href="/technology">Technology</a>

                    <a href="/regions">Regions</a>

                    {% elif userprofile.role_id == 2 %}

                    <a href="/super_admin_dash">User Dashboard</a>

                    {% elif userprofile.role_id == 11 %}

                    <a href="/ibu_dash">IBU Head Dashboard</a>

                    {% elif userprofile.role_id == 9 %}

                    <a href="/rmg_dash">RMG Head Dashboard</a>

                    {% elif userprofile.role_id == 6 %}

                    <a href="/mentor_dash">Mentor Dashboard</a>

                    {% elif userprofile.role_id == 5 %}

                    <a href="/WFM_SL_Head_dash">WFM Head Dashboard</a>

                    {% else %}

                    <a href="{% url 'profile_building' %}">Profile Building</a>

                    <a href="/application-tracking">Application Tracking</a>

                    {% if user_track %}

                    <a href="/job-opportunities">Job Opportunities</a>

                    <a href="/interview-schedule">Interview Schedule</a>

                    {% endif %}

                    {% if user_track_status %}

                    <a href="/onboarding">Onboarding</a>

                    {% endif %}

                    {% endif %}

                </div>

            </div>

        </nav>

        <a href="{% url 'signout' %}" class="sign-out">Sign Out</a>

    </aside>

 

    <div class="main-content" id="main-content">

        <header class="post-login-header">

            <form method="GET" action="/projects" class="search-container">

                <input type="text" name="search" placeholder="Search Project / Research">

                <button type="submit" style="background: none; border: none; cursor: pointer;">üîç</button>

            </form>

            <div class="logo-wrapper">

                <div class="logo">

                    <img src="{% static 'assets/img/logo.png' %}" alt="Logo">

                </div>

            </div>

        </header>

       

        <!-- Your main content goes here -->
         
         
    </div>

    {% endif %}

 

    <script>

        function toggleSidebar() {

            var sidebar = document.getElementById('sidebar');

            var mainContent = document.getElementById('main-content');

            var menuButton = document.getElementById('menu-btn');

           

            sidebar.classList.toggle('active');

            mainContent.classList.toggle('shifted');

           

            if (sidebar.classList.contains('active')) {

                menuButton.textContent = '‚úñ Close';

            } else {

                menuButton.textContent = '‚ò∞ Menu';

            }

        }

 

        function toggleProcessMenu() {

            var processMenu = document.getElementById('processMenu');

            var arrow = document.querySelector('.process-toggle .arrow');

           

            processMenu.classList.toggle('active');

            arrow.textContent = processMenu.classList.contains('active') ? '‚ñº' : '‚ñ∂';

        }

    </script>

</body>

</html>